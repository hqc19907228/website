---
title: "Create API"
description: "Introduction to the API creation process"
keywords: "API"
linkTitle: "Create API"
weight: 7331
---

To create an API, you need to enter the definition of the API and set the rules for basic information, service information, request information, and return information of the API. This section describes how to quickly create an API.

## Pre-requisites

- The API group has been created. If the API group is not created, refer to [Create API Groups](../../../proxy/create_apigroup/) to create it.



## New API

Follow the steps below to create the API.

1. Select the API group for which you want to create a new API, and click **API List** > **New API**.

   ![create1](/images/api/proxy/create_api/create1.png)

2. Go to the New API page and fill in the following information.

   ![create2](/images/api/proxy/create_api/create2.png)

   **Define API basic information**
   {{<table >}}

   | Parameter     | Description                                                         |
   | -------- | ------------------------------------------------------------ |
   | API Name | The name of the API created, the API name identifier needs to be unique within the group it belongs to.</br>**Instruction**: Up to 20 characters can be filled in, supporting Chinese or English characters. |
   | API Path | The original path to the third-party API, relative to the root directory, for example: /api/v1/payment/xxx.php.</br>**Instruction**: The host domain name configuration has been completed in the group configuration ( for example: [http://qingcloud.com](http://qingcloud.com/) ), only the relative API paths need to be added here ( for example: /api/v1/payment/xxx.php ).</br>When the supplement is complete, the system can obtain a globally unique URL for this API ( for example: http://qingcloud.com/api/v1/getName ). Non-standard |
   | Description     | The relevant description of the API.                                             |

   

   {{</table >}}

   **Define API request information**
   {{<table >}}

   | Parameter     | Description                                                         |
   | -------- | ------------------------------------------------------------ |
   | Request Method | Standard HTTP Method is supported, with options GET, POST, PUT, DELETE, OPTION, PATCH.</br>**Instruction**: The request protocol has been configured in the group configuration, and the request protocol supports: HTTP, HTTPS. |
   | Proxy path | The virtual access path generated by the system after the API is imported to the QuanXiang Cloud Platform.</br>This path consists of a unique virtual path assigned to the APP by the platform and grouped paths within the APP. It can be obtained automatically and does not require manual configuration. |
   | API Marking | The API is uniquely identified within the group and needs to be identified in English.                         |
   | Request Parameter | Request parameters for the API. Configure where and what parameters the user needs to pass in.<br>The optional positions are: Query, Header, Body, and constant parameters. See below for the rules of constant parameter definition: [Constant Parameter Description](#Constant Parameter Description).<br>The supported parameter types are: string, number, boolean. Where Body also supports object, array. |

   {{</table >}}

   **Define API return information**
   {{<table >}}

   | Parameter     | Description                                                         |
   | -------- | ------------------------------------------------------------ |
   | Return parameter | The return parameters of the API. Supported parameter types include: string, number, boolean, object, array. |
   {{</table >}}

3. Click **Confirm New** to create. The API will be enabled by default after successful creation.

## Batch Import

[Swagger](https://swagger.io/docs/specification/about/?spm=a2c63.p38356.0.0.1f4726d3tHJcUC) is a specification for describing APIs, which is widely used to define and describe APIs for back-end application services. QuanXiang Cloud Platform supports importing Swagger 2.0 files to create APIs.

Follow the steps below to create an API for batch import.

1. Select the API group for which you want to create a new API, and click **API List** > **Batch Import**.

2. Go to the batch import page, click or drag and drop to upload and support Swagger 2.0 data import.

   ![create3](/images/api/proxy/create_api/create3.png)

3. Click **Confirm Import** . After successful import, the API will be enabled by default.

## Methods for creating non-standard restful API

The standard restful API consists of apiPath+method, with defined input and output.

The non-standard API apiPath requires the action parameters to determine the input and output. Therefore, registering non-standard API in the platform uses the `apiPath?action` format to define the apiPath, and the system recognizes the first half as apiPath and the second half as action parameters.

## Constant parameter description

### How to define constant parameters in swagger files

For parameters with fixed input values such as `version=1`, the user does not need to specify them each time they are called, but can inject constant parameters in swagger.
The `x-consts` defined globally by swagger are constants shared by all api's within this file, and the `x-consts` defined within `paths` are unique to this API.
Polyapi will merge the two parts of each API's `consts` configuration when parsing each API.
When a proxy calls a native API or orchestrates a native API, polyapi will automatically append these constant parameters without manual input.

```
{
 "swagger": "2.0",
 "x-consts": [
    {
      "name": "version",
      "type": "number",
      "in": "body",
      "description": "",
      "data": "1"
    }
 ],
 "paths": {
    "/api/v1/getData": {
    	"get":{
		  "x-consts": [
		    {
		      "name": "type",
		      "type": "string",
		      "in": "body",
		      "description": "",
		      "data": "foo"
		    }
		  ]
		}
   }
 }
}
```

#### Dependent swagger parameter

paths.operationId is used to generate an API identifier that is unique within the group and is displayed in the API proxy path.

### action data type description

This type is actually `string` type, no need to fill in the value, just specify type, name, in, polyapi will automatically take the path on the "?" after the action parameter on the path as a constant.

### timestamp data type description

Auto-fill timestamp (UTC), value configured as format, support empty value as default format processing.
Currently supported timestamp formats:

- YYYY-MM-DDThh:mm:ssZ(default)
- YYYY-MM-DDThh:mm:ss+0000(ISO8601)

